<!-- this is mainly for data that needs to be loaded when the page is loaded -->
<input type="hidden" id="nav_tracker" value="2" />
<script>
    $(document).ready(function () {
        $('.customer-select li').on('click', function () {
            var option = $(this).find('a').data('option');
                                    
            $('.tab.selected').removeClass('selected');
                                    
            $(this).addClass('selected');
                                                  
            if (option == 'New Customer') {
                $('#nav_tracker').val("2"); // Update nav tracker
                $('#return-customer-info-panel').slideUp();
                $('#scan-customer-card-panel').slideUp();
                $('#new-customer-info-panel').slideDown();
            }
            else if (option == 'Returning Customer') {
                $('#nav_tracker').val("3"); // Update nav tracker
                $('#new-customer-info-panel').slideUp();
                $('#scan-customer-card-panel').slideUp();
                $('#return-customer-info-panel').slideDown();
            }
            else if(option == 'Scan Card') {
                $('#nav_tracker').val("4"); // Update nav tracker
                $('#new-customer-info-panel').slideUp();
                $('#return-customer-info-panel').slideUp();
                $('#scan-customer-card-panel').slideDown();
            }
            else {
                $('#nav_tracker').val("1"); // Update nav tracker
                $('#return-customer-info-panel').slideUp();
                $('#new-customer-info-panel').slideUp();
                $('#scan-customer-card-panel').slideUp();
            }
        });
                      
        $('#test-scan-cust-card').on('click', function(){
            $('#cust-card-wait-spinner').after('<p>Loading customer information for id: 001</p>');
            $('#cust-card-wait-spinner').detach().remove();
                                                   
            $('#txt-scanned-first-name').val('John');
            $('#txt-scanned-last-name').val('Doe');
            $('#txt-scanned-phoneno').val('555-555-5555');
            $('#txt-scanned-email').val('jdoe@email.com');
            $('#txt-scanned-street').val('123 Fake St.');
            $('#txt-scanned-city').val('London');
            $('#sel-scanned-country').val('Canada');
            $('#sel-scanned-province').val('ON');
            $('#txt-scanned-postal-code').val('N1N 1N1');
            $('#cb-scanned-allow-contact').attr('checked', 'true');
        });
                      
        // the list options holding the autocomplete stuff
        // that should be loaded as the user types with relevant
        // options will hold the customer_id as a data attribute...
        // when selected and the text box value changes, we will load
        // up the customer's information using their id and then fill in
        // the other text fields
        // this is where we handle autocomplete
        $('#txt-searchfname').on('change', function () {
            $('#txt-searchlname').val('Doe');
            $('#txt-searchemail').val('test@email.com');
        });
                      
        // this is where we handle autocomplete
        $('#txt-searchlname').on('change', function () {
            $('#txt-searchfname').val('John');
            $('#txt-searchemail').val('test@email.com');
        });
                      
        // this is where we handle autocomplete
        $('#txt-searchemail').on('change', function () {
            $('#txt-searchfname').val('John');
            $('#txt-searchlname').val('Doe');
        });
    });
    
    /**
     *  Function will detect what customer was inputted and attempt to save 
     *  the customer for the cart; afterwords, it will proceed to
     *  load up the next screen.
     */
    function scan_cart_items_load()
    {
        var selected = $('#nav_tracker').val();
        if (selected == "1")
        {
            handle_guest_customer();
        }
        else if (selected == "2")
        {
            handle_new_customer();
        }
        else if (selected == "3")
        {
            handle_returning_customer();
        }
        else if (selected == "4")
        {
            handle_scan_customer();
        }
    }

    function handle_guest_customer()
    {
        load_checkout_page(); // Simply load the next page.
    }

    function handle_new_customer()
    {
        alert("New");
    }

    function handle_returning_customer()
    {
        alert("Return");
    }

    function handle_scan_customer()
    {
        alert("Scan");
    }

    function load_checkout_page()
    {
        window.location = "/inventory/{{ org.org_id }}/{{ store.store_id }}/checkout/{{ cart.cart_id }}/items";
    }
</script>